import{k as z}from"./index.c958989c.js";const F=z("app-store",{state:()=>({error:"",token:localStorage.getItem("token")||null,alerts:[],processing:!1,newPasswordUserId:0,menue:[]}),getters:{user:s=>{try{const e=s.token;return e?JSON.parse(atob(e.split(".")[1])):null}catch(e){s.error=e.message}},permissions:s=>{const e=s.hasPermision("get-items"),r=s.hasPermision("get-items--"),n=s.hasPermision("put-items---name"),i=s.hasPermision("put-items---count"),P=s.hasPermision("post-items"),o=s.hasPermision("delete-items--"),h=n||i||o,l=s.hasPermision("get-users"),d=s.hasPermision("get-users-frozen"),f=s.hasPermision("get-users--"),t=s.hasPermision("put-users---password"),c=s.hasPermision("put-users---permission"),g=s.hasPermision("post-users"),m=s.hasPermision("post-users-block"),a=s.hasPermision("post-users-unblock"),u=s.hasPermision("post-users-unfreez"),p=s.hasPermision("delete-users--"),U=t||c||m||a||u||p,k=s.hasPermision("get-permissions"),w=s.hasPermision("get-permissions--"),I=s.hasPermision("put-permissions--"),E=s.hasPermision("post-permissions"),C=s.hasPermision("delete-permissions--"),V=s.hasPermision("get-admin-log"),b=s.hasPermision("delete-admin-log");return{canViewItems:e,canFindItem:r,canCreateItem:P,canEditItemName:n,canEditItemCount:i,canDeleteItem:o,canEditItem:h,canViewUsers:l,canViewFrozenUsers:d,canFindUser:f,canEditUserPassword:t,canEditUserPermission:c,canCreateUser:g,canBlockUser:m,canUnblockUser:a,canUnfreezUser:u,canDeleteUser:p,canEditUser:U,canViewPermissions:k,canFindPermission:w,canEditPermission:I,canCreatePermission:E,canDeletePermission:C,canViewLog:V,canDeleteLog:b}}},actions:{hasPermision(s){const e=this.user;return e?e.id===1?!0:e.permits.includes(s):!1},canCreate(s){const e=this.user;return e?e.id===1?!0:e.permits.includes(`post-${s}`):!1},canEdit(s){const e=this.user;if(!e)return!1;if(e.id===1)return!0;for(const r of e.permits)if(r.startsWith(`put-${s}`)||r.startsWith(`delete-${s}`)||r.startsWith(`post-${s}-`))return!0}}});export{F as u};
